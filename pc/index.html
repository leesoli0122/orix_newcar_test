<!DOCTYPE html>
<html lang="ko">
<head>
    <title>오릭스 신차 | worklist</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keyword" content="">
    <meta name="description" content="ia, worklist">
    <meta name="author" content="kys">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="stylesheet" type="text/css" href="./resources/css/worklist.css" />
    <script src="./resources/js/lib/jquery-1.11.3.min.js"></script>
</head>

<body>
    <div class="wrapper">
        <section class="container">

            <div class="header">
                <h1>오릭스 신차 | worklist</h1>
                <ul>
                    <li>프로젝트 기간 : </li>
                    <!-- <li><span id="delCnt"></span> / <span id="compCnt"></span> (loan / renewal)</li> -->
                    <li>
                        <h3>전체페이지 나온 이후 수정진척률 확인용</h3>
                        <span id="wipCnt"></span> (남은 화면 수)
                    </li>
                    <li><span id="totCnt"></span> (총 본수)</li>
                    <li style="margin-bottom:30px;">
                </ul>
                <div class="progressArea"></div>

                <dl>
                    <dt>메모사항</dt>
					<dd></dd>
                </dl>
            </div>

            <div class="cont">
				<!-- s: 가이드 -->
                <div class="guide">
                    <h3 class="tit">가이드</h3>
                    <summary></summary>
                    <table style="display:table;">
                        <caption></caption>
                        <colgroup>
                            <col width="12%">
                            <col width="10%">
                            <col width="8%">
                            <col width="15%">
                            <col width="8%">
                            <col width="8%">
                            <col width="*">
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">화면명</th>
                                <th scope="col">타입</th>
                                <th scope="col" class="fileName">화면ID</th>
                                <th scope="col">담당</th>
                                <th scope="col">상태</th>
                                <th scope="col">비고</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>COLOR</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/color.html" target="_blank">color</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>FONT</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/font.html" target="_blank">font</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>BUTTON</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/button.html" target="_blank">button</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>FORM</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/form.html" target="_blank">form</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>LIST</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/list.html" target="_blank">list</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td>20240822 txt-list를 txt-detail-cont로 변경</td>
                            </tr>
                            <tr>
                                <td>기본레이아웃</td>
                                <td>layout</td>
                                <td class="fileName"><a href="./views/GUIDE/layout.html" target="_blank">layout</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>POP</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/pop.html" target="_blank">pop</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>TABLE</td>
                                <td></td>
                                <td class="fileName"><a href="./views/GUIDE/table.html" target="_blank">table</a></td>
                                <td>이솔</td>
                                <td class="state ok"></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- e: 가이드 -->

                <!-- s: 신차A -->
                <div class="guide">
                    <h3 class="tit">신차A</h3>
                    <summary></summary>
                    <table style="display:table;">
                        <caption></caption>
                        <colgroup>
                            <col width="12%">
                            <col width="10%">
                            <col width="8%">
                            <col width="15%">
                            <col width="8%">
                            <col width="8%">
                            <col width="8%">
                            <col width="*">
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">1depth</th>
                                <th scope="col">2depth</th>
                                <th scope="col">3depth</th>
                                <th scope="col" class="fileName">화면ID</th>
                                <th scope="col">담당</th>
                                <th scope="col">날짜</th>
                                <th scope="col">상태</th>
                                <th scope="col">비고</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td rowspan="4">견적내기</td>
                                <td>차량선택</td>
                                <td></td>
                                <td class="fileName"><a href="./views/NEWCAR/ORIX-PC-ESTIMATE-01.html" target="_blank">ORIX-PC-ESTIMATE-01</a></td>
                                <td>이솔</td>
                                <td>2024.07.10</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>상세정보입력</td>
                                <td></td>
                                <td class="fileName"><a href="" target="_blank"></a></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>견적내기</td>
                                <td></td>
                                <td class="fileName"><a href="./views/NEWCAR/ORIX-PC-ESTIMATE-03.html" target="_blank">ORIX-PC-ESTIMATE-03</a></td>
                                <td>이솔</td>
                                <td>2024.07.10</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>견적서보기</td>
                                <td></td>
                                <td class="fileName"><a href="" target="_blank"></a></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- e: 신차A -->

                <!-- s: 마이페이지A -->
                <div class="guide">
                    <h3 class="tit">마이페이지A</h3>
                    <summary></summary>
                    <table style="display:table;">
                        <caption></caption>
                        <colgroup>
                            <col width="12%">
                            <col width="10%">
                            <col width="8%">
                            <col width="15%">
                            <col width="8%">
                            <col width="8%">
                            <col width="8%">
                            <col width="*">
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">1depth</th>
                                <th scope="col">2depth</th>
                                <th scope="col">3depth</th>
                                <th scope="col" class="fileName">화면ID</th>
                                <th scope="col">담당</th>
                                <th scope="col">날짜</th>
                                <th scope="col">상태</th>
                                <th scope="col">비고</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>마이페이지</td>
                                <td></td>
                                <td></td>
                                <td class="fileName"><a href="./views/MYPAGE/ORIX-PC-MYPAGE.html" target="_blank">ORIX-PC-MYPAGE</a></td>
                                <td>이솔</td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- e: 마이페이지A -->
            </div>
        </section>
    </div>

    <script>
        $(document).ready(function () {

            var fromDate = [],
                toDate = [],
                dateGap = [];

            var totCnt, wipCnt = 0, compCnt = 0;

            pjState();

            // var headerH = $(".container .header").outerHeight();

            //alert(headerH);
            // $(".container .cont").css("margin-top", headerH + "px");


            function pjState() {
                $(".page table tbody tr").each(function (i, e) {
                    // fromDate[i] = new Date($(".fromDate").eq(i).text());
                    // toDate[i] = new Date($(".toDate").eq(i).text());
                    // dateGap[i] = Math.ceil((toDate[i].getTime() - fromDate[i].getTime()) / (1000 * 3600 * 24));

                    // dateGap[i] >= 0 ? $(".state").eq(i).text("완료").closest("tr").addClass("comp") : $(".state").eq(i).text(""); 기존소스 - 시작날짜 없는 화면의 진척률 파악 위해 아래와 같이 임시 수정(종료날짜만 입력하면 완료 상태로 처리)
                    
                    !!($(".toDate").eq(i).text()) ? $(".state").eq(i).text("완료").closest("tr").addClass("comp") : $(".state").eq(i).text("");

                    ($(".state").eq(i).text() == "완료") ? compCnt++ : wipCnt++;

                });

                var allpage = $(".page table tbody tr").length; //전체
                var Nonpage = $('tr.Non').length; //제외
                var Okpage = $('tr.comp').length; //완료
                totCnt = $(".page table tbody tr").length;

                compCnt = Okpage; //완료본수
                test = allpage - Nonpage; //실질적인화면수
                wipCnt = totCnt - compCnt - Nonpage; //남은본수

                $("#totCnt").text(totCnt); //전체
                $("#wipCnt").text(wipCnt);  //남은본수
                $("#compCnt").text(compCnt); //완료
                $("#delCnt").text(Nonpage); //제외

                $(".progressArea > span").animate({ "width": (compCnt / test) * 100 + "%" }, 1500);
                // $(".progressArea > span").after("종합 진척률 : " + Math.floor((compCnt / test) * 100) + "%"); 2023-07-14 수정 진척률로 변경 전 백업
                $(".progressArea > span").after("수정 진척률 : " + Math.floor((compCnt / test) * 100) + "%");
            }

            /* list toggle */
            $('.guide .tit').addClass('on');
            $('.guide .tit').on('click', function () {
                $(this).toggleClass('on');
            })
        });
    </script>
</body>

</html>